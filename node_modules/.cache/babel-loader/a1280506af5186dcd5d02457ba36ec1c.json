{"ast":null,"code":"/*\n * Copyright 2020 American Express Travel Related Services Company, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\nimport { loadingAction, setAction, errorAction // eslint-disable-next-line import/no-unresolved\n} from 'fetchye-core';\nexport const runAsync = async _ref => {\n  let {\n    dispatch,\n    computedKey,\n    fetcher,\n    fetchClient,\n    options\n  } = _ref;\n  dispatch(loadingAction({\n    hash: computedKey.hash\n  }));\n  const {\n    payload: data,\n    error: requestError\n  } = await fetcher(fetchClient, computedKey.key, options);\n\n  if (!requestError) {\n    dispatch(setAction({\n      hash: computedKey.hash,\n      value: data\n    }));\n  } else {\n    dispatch(errorAction({\n      hash: computedKey.hash,\n      error: requestError\n    }));\n  }\n\n  return {\n    data,\n    error: requestError\n  };\n};\nexport default runAsync;","map":{"version":3,"sources":["/Users/ramchapagai/Desktop/Portfolio/ram-portfolio/node_modules/fetchye/es/runAsync.js"],"names":["loadingAction","setAction","errorAction","runAsync","dispatch","computedKey","fetcher","fetchClient","options","hash","payload","data","error","requestError","key","value"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,WAAnC,CAA+C;AAA/C,OACO,cADP;AAEA,OAAO,MAAMC,QAAQ,GAAG,cAMlB;AAAA,MANyB;AAC7BC,IAAAA,QAD6B;AAE7BC,IAAAA,WAF6B;AAG7BC,IAAAA,OAH6B;AAI7BC,IAAAA,WAJ6B;AAK7BC,IAAAA;AAL6B,GAMzB;AACJJ,EAAAA,QAAQ,CAACJ,aAAa,CAAC;AACrBS,IAAAA,IAAI,EAAEJ,WAAW,CAACI;AADG,GAAD,CAAd,CAAR;AAGA,QAAM;AACJC,IAAAA,OAAO,EAAEC,IADL;AAEJC,IAAAA,KAAK,EAAEC;AAFH,MAGF,MAAMP,OAAO,CAACC,WAAD,EAAcF,WAAW,CAACS,GAA1B,EAA+BN,OAA/B,CAHjB;;AAKA,MAAI,CAACK,YAAL,EAAmB;AACjBT,IAAAA,QAAQ,CAACH,SAAS,CAAC;AACjBQ,MAAAA,IAAI,EAAEJ,WAAW,CAACI,IADD;AAEjBM,MAAAA,KAAK,EAAEJ;AAFU,KAAD,CAAV,CAAR;AAID,GALD,MAKO;AACLP,IAAAA,QAAQ,CAACF,WAAW,CAAC;AACnBO,MAAAA,IAAI,EAAEJ,WAAW,CAACI,IADC;AAEnBG,MAAAA,KAAK,EAAEC;AAFY,KAAD,CAAZ,CAAR;AAID;;AAED,SAAO;AACLF,IAAAA,IADK;AAELC,IAAAA,KAAK,EAAEC;AAFF,GAAP;AAID,CA/BM;AAgCP,eAAeV,QAAf","sourcesContent":["/*\n * Copyright 2020 American Express Travel Related Services Company, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\nimport { loadingAction, setAction, errorAction // eslint-disable-next-line import/no-unresolved\n} from 'fetchye-core';\nexport const runAsync = async ({\n  dispatch,\n  computedKey,\n  fetcher,\n  fetchClient,\n  options\n}) => {\n  dispatch(loadingAction({\n    hash: computedKey.hash\n  }));\n  const {\n    payload: data,\n    error: requestError\n  } = await fetcher(fetchClient, computedKey.key, options);\n\n  if (!requestError) {\n    dispatch(setAction({\n      hash: computedKey.hash,\n      value: data\n    }));\n  } else {\n    dispatch(errorAction({\n      hash: computedKey.hash,\n      error: requestError\n    }));\n  }\n\n  return {\n    data,\n    error: requestError\n  };\n};\nexport default runAsync;"]},"metadata":{},"sourceType":"module"}